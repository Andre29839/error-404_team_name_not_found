{"mappings":"A,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,S,E,S,I,E,E,SEEA,MAAM,EAAe,SAAS,aAAA,CAAc,eACtC,EAAe,SAAS,aAAA,CAAc,0BACtC,EAAiB,SAAS,aAAA,CAAc,kBACxC,EAAe,SAAS,aAAA,CAAc,uBACtC,EAAc,SAAS,aAAA,CAAc,kBACrC,EAAc,KAAK,KAAA,CAAM,aAAa,OAAA,CAAQ,EAAA,WAAU,IAAO,EAAE,CAEvE,IAAI,EAAO,EAmBX,eAAe,EAAsB,CAAK,EACxC,IAAI,EAAe,GACnB,IAAK,IAAM,KAAQ,EAAO,CACxB,GAAM,CAAA,MACJ,CAAK,CAAA,GACL,CAAE,CAAA,YACF,CAAW,CAAA,aACX,CAAY,CAAA,SACZ,CAAQ,CAAA,aACR,CAAY,CACb,CAAG,EACF,EAAiB,MAAM,EAAU,GAEvC,GAAiB,oDAAoD;;2EAEf,WACnC;;;;WAIR;;;WAGA,OAAoB,EAAa,KAAA,CAAM,EAAG;;;gDAGL,AAAe,GAAf;;;eAGjC,AAAA,CACf,OAAO,EAAa,kBAAA,CAAmB,YAAY,EACnD,CAEA,eAAe,IACb,IAAM,EAAW,AAAC,CAAA,EAAO,CAAA,EApDL,EAqDd,EAAS,EArDK,EAsDd,EAAgB,EAAY,KAAA,CAAM,EAAU,GAC/C,GAAI,AAAuB,IAAvB,EAAY,MAAA,CAAc,CAC3B,IAAM,EAAa,CAAC;;mDAEuB,CAAC,CAC3C,EAAa,kBAAA,CAAmB,aAAc,GAC9C,EAAa,SAAA,CAAU,MAAA,CAAO,mBAC9B,EAAe,SAAA,CAAU,GAAA,CAAI,kBAEjC,MAE2B,MAAM,EAAsB,GAEnD,EAAa,SAAA,CAAU,GAAA,CAAI,mBAC3B,EAAe,SAAA,CAAU,MAAA,CAAO,mBAE7B,GAAU,EAAY,MAAA,EACxB,EAAe,SAAA,CAAU,GAAA,CAAI,mBAC7B,EAAa,SAAA,CAAU,MAAA,CAAO,oBAE9B,EAAe,SAAA,CAAU,MAAA,CAAO,kBAM1C,CA9EA,EAAe,gBAAA,CAAiB,QAkFhC,WACE,GAAQ,EACR,GACF,GApFA,EAAY,gBAAA,CAAiB,QAAS,SAAU,CAAC,EAC/C,GAAI,AAAqB,MAArB,EAAE,MAAA,CAAO,OAAA,CAAmB,OAEhC,IAAI,EAAY,EAAE,MAAA,CAAO,WAAzB,AACA,CAAA,EAAa,WAAA,CAAc,CAG7B,GACA,EAAa,gBAAA,CAAiB,QAAS,WACrC,EAAY,SAAA,CAAU,MAAA,CAAO,mBAC7B,EAAY,SAAA,CAAU,MAAA,CAAO,SAE/B,GAkEA,IAUA,MAAM,EAAe,SAAS,aAAA,CAAc,kBAK5C,eAAe,EAAmB,CAAC,EACjC,EAAE,cAAF,GACA,IAAM,EAAW,KAAK,KAAA,CAAM,aAAa,OAAA,CAAQ,EAAA,WAAU,IAAO,EAAE,CAC9D,EAAW,EAAE,MAAA,CAAO,OAAA,CAAQ,IAAlC,AACA,CAAA,EAAa,SAAA,CAAY,GAIzB,IAAI,EAAoB,CAAA,EAExB,IAAK,IAAM,KAAS,EAAU,CAC5B,IAAM,EAAe,MAAM,EAAU,EAAM,EAA3C,EAEA,GAAI,EAAa,QAAA,CAAS,GAAW,CACnC,EAAoB,CAAA,EAEpB,IAAM,EAAc,oDAAoD,EAAM,EAAA;;2EAE7B,EAAM,WAAA,UAAqB,EAAM,QAAA;;;oCAGpD,EAAM,KAAA;0CACA,OAAkB,EAAM,YAAA,CAAa,KAAA,CAAM,EAAG;;;sDAGlC,AAAqB,GAArB,EAAM,YAAA;;;aAG/C,CAEP,EAAa,kBAAA,CAAmB,YAAa,EAC/C,CAEF,CAEA,GAAI,CAAC,EAAmB,CACtB,IAAM,EAAa,CAAC;;+CAEuB,CAAC,AAE5C,CAAA,EAAa,SAAA,CAAY,EACzB,EAAa,SAAA,CAAU,MAAA,CAAO,mBAC9B,EAAe,SAAA,CAAU,GAAA,CAAI,kBAC/B,CACF,CAGA,eAAe,EAAU,CAAO,EAC9B,IAAM,EAAY,CAAC,EAAE,AAAA,EAAA,IAAG,CAAE,SAAA,CAAU,EAAE,AAAA,EAAA,IAAG,CAAE,cAAA,CAAe,EAAE,EAAQ,SAAS,EAAE,AAAA,EAAA,IAAG,CAAE,OAAA,CAAQ,CAAC,CACvF,EAAW,MAAM,MAAM,GACvB,EAAQ,MAAM,EAAS,IAA7B,GACM,EAAS,EAAM,MAAA,CAAO,KAAA,CAAM,EAAG,GAAG,GAAA,CAAI,CAAC,CAAA,KAAE,CAAI,CAAE,GAAK,EAAK,WAA/D,IAEA,OAAO,CACT,CA1DA,EAAa,gBAAA,CAAiB,QAAS,G,E,S,E,S,E,S,E,S,E","sources":["<anon>","src/js/my-library.js","src/js/library.js"],"sourcesContent":["var $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired9c8\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired9c8\"] = parcelRequire;\n}\nparcelRequire(\"aER9F\");\nparcelRequire(\"dd1Kv\");\n\nvar $ge6e3 = parcelRequire(\"ge6e3\");\nconst $3f716ea2b8641cf3$var$myLibraryDiv = document.querySelector(\"#my-library\");\nconst $3f716ea2b8641cf3$var$buttonSearch = document.querySelector(\".search-movie-btn-link\");\nconst $3f716ea2b8641cf3$var$buttonLoadMore = document.querySelector(\".load-more-btn\");\nconst $3f716ea2b8641cf3$var$filterButton = document.querySelector(\".filter-down-button\");\nconst $3f716ea2b8641cf3$var$listOfGenre = document.querySelector(\".dropdown-list\");\nconst $3f716ea2b8641cf3$var$savedMovies = JSON.parse(localStorage.getItem((0, $ge6e3.LIBRARY_KEY))) || [];\nlet $3f716ea2b8641cf3$var$page = 1;\nconst $3f716ea2b8641cf3$var$moviesPerPage = 9;\n$3f716ea2b8641cf3$var$buttonLoadMore.addEventListener(\"click\", $3f716ea2b8641cf3$var$onClickBtnLoadMore);\n$3f716ea2b8641cf3$var$listOfGenre.addEventListener(\"click\", function(e) {\n    if (e.target.tagName !== \"A\") return;\n    let eventText = e.target.textContent;\n    $3f716ea2b8641cf3$var$filterButton.textContent = eventText;\n});\n$3f716ea2b8641cf3$var$filterButton.addEventListener(\"click\", function() {\n    $3f716ea2b8641cf3$var$listOfGenre.classList.toggle(\"visually-hidden\");\n    $3f716ea2b8641cf3$var$listOfGenre.classList.toggle(\"active\");\n});\nasync function $3f716ea2b8641cf3$var$createMarkupToLibrary(array) {\n    let markupLibrary = \"\";\n    for (const elem of array){\n        const { title: title, id: id, poster_path: poster_path, release_date: release_date, overview: overview, vote_average: vote_average } = elem;\n        const movieWeekGenre = await $3f716ea2b8641cf3$var$getGenres(id);\n        const WEEK_IMG_URL = \"https://image.tmdb.org/t/p/original/\";\n        markupLibrary += `<li class=\"movie-card open-modal\" data-movie-id=\"${id}\">\n         <div class=\"gradient\"></div>\n         <img class=\"movie-img\" src=\"${WEEK_IMG_URL}${poster_path}\" alt=\"${overview}\" loading=\"lazy\" />\n         <div class=\"info\">\n        <div class=\"name-and-discr\">\n         <p class=\"movie-title\">\n         ${title}\n         </p>\n         <p class=\"movie-description\">\n         ${movieWeekGenre} | ${release_date.slice(0, 4)}\n         </p></div>\n         <div class=\"rating-body stars\">\n      <div class=\"rating-active\" style=\"width:${vote_average * 10}%\"></div>\n    </div>\n  </div>\n         </li>`;\n    }\n    return $3f716ea2b8641cf3$var$myLibraryDiv.insertAdjacentHTML(\"beforeend\", markupLibrary);\n}\nasync function $3f716ea2b8641cf3$var$renderFavoriteFilm() {\n    const startIdx = ($3f716ea2b8641cf3$var$page - 1) * $3f716ea2b8641cf3$var$moviesPerPage;\n    const endIdx = startIdx + $3f716ea2b8641cf3$var$moviesPerPage;\n    const currentMovies = $3f716ea2b8641cf3$var$savedMovies.slice(startIdx, endIdx);\n    if ($3f716ea2b8641cf3$var$savedMovies.length === 0) {\n        const oopsMarkup = `<p class=\"oops-text\">OOPS...<br>\n     We are very sorry!<br>\n     You don’t have any movies at your library.</p>`;\n        $3f716ea2b8641cf3$var$myLibraryDiv.insertAdjacentHTML(\"afterBegin\", oopsMarkup);\n        $3f716ea2b8641cf3$var$buttonSearch.classList.remove(\"visually-hidden\");\n        $3f716ea2b8641cf3$var$buttonLoadMore.classList.add(\"visually-hidden\");\n    } else {\n        const libraryFilmMarkup = await $3f716ea2b8641cf3$var$createMarkupToLibrary(currentMovies);\n        $3f716ea2b8641cf3$var$buttonSearch.classList.add(\"visually-hidden\");\n        $3f716ea2b8641cf3$var$buttonLoadMore.classList.remove(\"visually-hidden\");\n        if (endIdx >= $3f716ea2b8641cf3$var$savedMovies.length) {\n            $3f716ea2b8641cf3$var$buttonLoadMore.classList.add(\"visually-hidden\");\n            $3f716ea2b8641cf3$var$buttonSearch.classList.remove(\"visually-hidden\");\n        } else $3f716ea2b8641cf3$var$buttonLoadMore.classList.remove(\"visually-hidden\");\n    }\n}\n$3f716ea2b8641cf3$var$renderFavoriteFilm();\nfunction $3f716ea2b8641cf3$var$onClickBtnLoadMore() {\n    $3f716ea2b8641cf3$var$page += 1;\n    $3f716ea2b8641cf3$var$renderFavoriteFilm();\n}\nconst $3f716ea2b8641cf3$var$dropdownList = document.querySelector(\".dropdown-list\");\n$3f716ea2b8641cf3$var$dropdownList.addEventListener(\"click\", $3f716ea2b8641cf3$var$findFilmWidthGenre);\nasync function $3f716ea2b8641cf3$var$findFilmWidthGenre(e) {\n    e.preventDefault();\n    const myMovies = JSON.parse(localStorage.getItem((0, $ge6e3.LIBRARY_KEY))) || [];\n    const dataName = e.target.dataset.name;\n    $3f716ea2b8641cf3$var$myLibraryDiv.innerHTML = \"\";\n    const GENRE_IMG_URL = \"https://image.tmdb.org/t/p/original/\";\n    let hasMatchingMovies = false;\n    for (const movie of myMovies){\n        const genreOfMovie = await $3f716ea2b8641cf3$var$getGenres(movie.id);\n        if (genreOfMovie.includes(dataName)) {\n            hasMatchingMovies = true;\n            const markupGanre = `<li class=\"movie-card open-modal\" data-movie-id=\"${movie.id}\">\n         <div class=\"gradient\"></div>\n         <img class=\"movie-img\" src=\"${GENRE_IMG_URL}${movie.poster_path}\" alt=\"${movie.overview}\" loading=\"lazy\" />\n         <div class=\"info\">\n          <div class=\"name-and-discr\">\n           <p class=\"movie-title\">${movie.title}</p>\n           <p class=\"movie-description\">${genreOfMovie} | ${movie.release_date.slice(0, 4)}</p>\n          </div>\n          <div class=\"rating-body stars\">\n            <div class=\"rating-active\" style=\"width:${movie.vote_average * 10}%\"></div>\n          </div>\n        </div>\n       </li>`;\n            $3f716ea2b8641cf3$var$myLibraryDiv.insertAdjacentHTML(\"beforeend\", markupGanre);\n        }\n    }\n    if (!hasMatchingMovies) {\n        const oopsMarkup = `<p class=\"oops-text\">OOPS...<br>\n     We are very sorry!<br>\n     We didn't find movies with this genre.</p>`;\n        $3f716ea2b8641cf3$var$myLibraryDiv.innerHTML = oopsMarkup;\n        $3f716ea2b8641cf3$var$buttonSearch.classList.remove(\"visually-hidden\");\n        $3f716ea2b8641cf3$var$buttonLoadMore.classList.add(\"visually-hidden\");\n    }\n}\nasync function $3f716ea2b8641cf3$var$getGenres(movieId) {\n    const urlGenres = `${(0, $ge6e3.refs).BASIC_URL}${(0, $ge6e3.refs).movie_detailes}${movieId}?api_key=${(0, $ge6e3.refs).API_KEY}`;\n    const response = await fetch(urlGenres);\n    const datas = await response.json();\n    const genres = datas.genres.slice(0, 2).map(({ name: name })=>name.toLowerCase());\n    return genres;\n}\n\n\nparcelRequire(\"7dfxV\");\nparcelRequire(\"lSnTn\");\nparcelRequire(\"gOgzM\");\nparcelRequire(\"5hhfL\");\nparcelRequire(\"itgY7\");\n\n\n//# sourceMappingURL=my-library.7f463e09.js.map\n","import \"./animation-scroll.js\";\nimport \"./mobile-menu.js\";\nimport \"./library.js\";\nimport \"./hero_markup.js\";\nimport \"./hero_app.js\";\nimport \"./switch-btn.js\"\nimport \"./modal-footer.js\"\nimport \"./modal-menu.js\"\n","import { LIBRARY_KEY,refs } from './helpers';\n\nconst myLibraryDiv = document.querySelector(\"#my-library\");\nconst buttonSearch = document.querySelector(\".search-movie-btn-link\");\nconst buttonLoadMore = document.querySelector(\".load-more-btn\");\nconst filterButton = document.querySelector(\".filter-down-button\");\nconst listOfGenre = document.querySelector(\".dropdown-list\");\nconst savedMovies = JSON.parse(localStorage.getItem(LIBRARY_KEY)) || [];\n\nlet page = 1;\nconst moviesPerPage = 9;\n\nbuttonLoadMore.addEventListener(\"click\", onClickBtnLoadMore);\nlistOfGenre.addEventListener(\"click\", function (e) {\n  if (e.target.tagName !== 'A') { return } \n \n  let eventText = e.target.textContent;\n  filterButton.textContent = eventText;\n  \n\n});\nfilterButton.addEventListener(\"click\", function () {\n  listOfGenre.classList.toggle(\"visually-hidden\");\n  listOfGenre.classList.toggle(\"active\");\n   \n})\n\n\nasync function createMarkupToLibrary(array) {\n  let markupLibrary ='';\n  for (const elem of array) {\n    const {\n      title,\n      id,\n      poster_path,\n      release_date,\n      overview,\n      vote_average,\n    } = elem;\nconst movieWeekGenre = await getGenres(id);\nconst WEEK_IMG_URL = 'https://image.tmdb.org/t/p/original/';\nmarkupLibrary += `<li class=\"movie-card open-modal\" data-movie-id=\"${id}\">\n         <div class=\"gradient\"></div>\n         <img class=\"movie-img\" src=\"${WEEK_IMG_URL}${poster_path\n         }\" alt=\"${overview}\" loading=\"lazy\" />\n         <div class=\"info\">\n        <div class=\"name-and-discr\">\n         <p class=\"movie-title\">\n         ${title}\n         </p>\n         <p class=\"movie-description\">\n         ${movieWeekGenre} | ${release_date.slice(0, 4)}\n         </p></div>\n         <div class=\"rating-body stars\">\n      <div class=\"rating-active\" style=\"width:${vote_average * 10}%\"></div>\n    </div>\n  </div>\n         </li>`}\nreturn myLibraryDiv.insertAdjacentHTML('beforeend',markupLibrary);\n};\n\nasync function renderFavoriteFilm() {\n  const startIdx = (page - 1) * moviesPerPage;\n  const endIdx = startIdx + moviesPerPage;\n  const currentMovies = savedMovies.slice(startIdx, endIdx);\n     if (savedMovies.length === 0) {\n        const oopsMarkup = `<p class=\"oops-text\">OOPS...<br>\n     We are very sorry!<br>\n     You don’t have any movies at your library.</p>`\n         myLibraryDiv.insertAdjacentHTML(\"afterBegin\", oopsMarkup);\n         buttonSearch.classList.remove(\"visually-hidden\");\n         buttonLoadMore.classList.add(\"visually-hidden\");\n\n     } else {\n       \n      const libraryFilmMarkup = await createMarkupToLibrary(currentMovies);\n\n         buttonSearch.classList.add(\"visually-hidden\");\n         buttonLoadMore.classList.remove(\"visually-hidden\"); \n       \n        if (endIdx >= savedMovies.length) {\n          buttonLoadMore.classList.add(\"visually-hidden\");\n          buttonSearch.classList.remove(\"visually-hidden\")\n    } else {\n          buttonLoadMore.classList.remove(\"visually-hidden\");\n          \n    }\n       \n     }\n    \n}\nrenderFavoriteFilm()\n\n\nfunction onClickBtnLoadMore() {\n  page += 1;\n  renderFavoriteFilm();\n}\n\n\n\nconst dropdownList = document.querySelector(\".dropdown-list\");\ndropdownList.addEventListener(\"click\", findFilmWidthGenre);\n\n\n\nasync function findFilmWidthGenre(e) {\n  e.preventDefault()\n  const myMovies = JSON.parse(localStorage.getItem(LIBRARY_KEY)) || [];\n  const dataName = e.target.dataset.name;\n  myLibraryDiv.innerHTML = \"\";\n\n  const GENRE_IMG_URL = 'https://image.tmdb.org/t/p/original/';\n\n  let hasMatchingMovies = false;\n\n  for (const movie of myMovies) {\n    const genreOfMovie = await getGenres(movie.id);\n\n    if (genreOfMovie.includes(dataName)) {\n      hasMatchingMovies = true;\n\n      const markupGanre = `<li class=\"movie-card open-modal\" data-movie-id=\"${movie.id}\">\n         <div class=\"gradient\"></div>\n         <img class=\"movie-img\" src=\"${GENRE_IMG_URL}${movie.poster_path}\" alt=\"${movie.overview}\" loading=\"lazy\" />\n         <div class=\"info\">\n          <div class=\"name-and-discr\">\n           <p class=\"movie-title\">${movie.title}</p>\n           <p class=\"movie-description\">${genreOfMovie} | ${movie.release_date.slice(0, 4)}</p>\n          </div>\n          <div class=\"rating-body stars\">\n            <div class=\"rating-active\" style=\"width:${movie.vote_average * 10}%\"></div>\n          </div>\n        </div>\n       </li>`;\n\n      myLibraryDiv.insertAdjacentHTML(\"beforeend\", markupGanre);\n    }\n    \n  }\n\n  if (!hasMatchingMovies) {\n    const oopsMarkup = `<p class=\"oops-text\">OOPS...<br>\n     We are very sorry!<br>\n     We didn't find movies with this genre.</p>`;\n\n    myLibraryDiv.innerHTML = oopsMarkup;\n    buttonSearch.classList.remove(\"visually-hidden\");\n    buttonLoadMore.classList.add(\"visually-hidden\");\n  }\n}\n\n\nasync function getGenres(movieId) {\n  const urlGenres = `${refs.BASIC_URL}${refs.movie_detailes}${movieId}?api_key=${refs.API_KEY}`;\n  const response = await fetch(urlGenres);\n  const datas = await response.json();\n  const genres = datas.genres.slice(0, 2).map(({ name }) => name.toLowerCase());\n\n  return genres;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n      \n\n\n\n\n\n\n\n\n\n\n "],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$ge6e3","$3f716ea2b8641cf3$var$myLibraryDiv","document","querySelector","$3f716ea2b8641cf3$var$buttonSearch","$3f716ea2b8641cf3$var$buttonLoadMore","$3f716ea2b8641cf3$var$filterButton","$3f716ea2b8641cf3$var$listOfGenre","$3f716ea2b8641cf3$var$savedMovies","JSON","parse","localStorage","getItem","LIBRARY_KEY","$3f716ea2b8641cf3$var$page","$3f716ea2b8641cf3$var$createMarkupToLibrary","array","markupLibrary","elem","title","poster_path","release_date","overview","vote_average","movieWeekGenre","$3f716ea2b8641cf3$var$getGenres","slice","insertAdjacentHTML","$3f716ea2b8641cf3$var$renderFavoriteFilm","startIdx","endIdx","currentMovies","length","oopsMarkup","classList","remove","add","addEventListener","e","target","tagName","eventText","textContent","toggle","$3f716ea2b8641cf3$var$dropdownList","$3f716ea2b8641cf3$var$findFilmWidthGenre","preventDefault","myMovies","dataName","dataset","name","innerHTML","hasMatchingMovies","movie","genreOfMovie","includes","markupGanre","movieId","urlGenres","refs","BASIC_URL","movie_detailes","API_KEY","response","fetch","datas","json","genres","map","toLowerCase"],"version":3,"file":"my-library.7f463e09.js.map"}